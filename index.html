<!doctype html>
<html lang="th" class="h-full">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ArenaSpin</title>
  <script src="https://cdn.tailwindcss.com/3.4.17"></script>
  <script src="/_sdk/element_sdk.js"></script>
  <script src="/_sdk/data_sdk.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/web3@1.10.0/dist/web3.min.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&amp;family=Kanit:wght@300;400;600;700&amp;display=swap" rel="stylesheet">
  <style>
    * { box-sizing: border-box; }
    html, body { height: 100%; margin: 0; padding: 0; }
    
    .game-font { font-family: 'Orbitron', sans-serif; }
    .thai-font { font-family: 'Kanit', sans-serif; }
    
    .neon-border {
      box-shadow: 0 0 10px #00f7ff, 0 0 20px #00f7ff, 0 0 30px #00f7ff, inset 0 0 10px rgba(0, 247, 255, 0.1);
    }
    
    .neon-text {
      text-shadow: 0 0 10px #00f7ff, 0 0 20px #00f7ff, 0 0 30px #00f7ff;
    }
    
    .gold-glow {
      text-shadow: 0 0 10px #ffd700, 0 0 20px #ffd700, 0 0 30px #ffd700;
    }
    
    .reel-container {
      background: linear-gradient(180deg, #1a1a2e 0%, #0f0f1a 100%);
      border: 3px solid #00f7ff;
      border-radius: 15px;
      overflow: hidden;
    }
    
    .symbol {
      font-size: 3rem;
      display: flex;
      align-items: center;
      justify-content: center;
      height: 80px;
      width: 80px;
      background: linear-gradient(145deg, #2a2a4a, #1a1a2e);
      border-radius: 10px;
      border: 2px solid #333;
      transition: all 0.3s ease;
    }
    
    .symbol.winning {
      animation: winPulse 0.5s ease-in-out infinite alternate;
      border-color: #ffd700;
      box-shadow: 0 0 20px #ffd700;
    }
    
    @keyframes winPulse {
      from { transform: scale(1); }
      to { transform: scale(1.1); }
    }
    
    @keyframes spin {
      0% { transform: translateY(0); }
      100% { transform: translateY(-100%); }
    }
    
    .spinning .symbol {
      animation: symbolSpin 0.1s linear infinite;
    }
    
    @keyframes symbolSpin {
      0% { transform: translateY(0); opacity: 1; }
      50% { transform: translateY(-20px); opacity: 0.5; }
      100% { transform: translateY(0); opacity: 1; }
    }
    
    .spin-btn {
      background: linear-gradient(180deg, #ff6b6b 0%, #ee5a24 50%, #c0392b 100%);
      border: 3px solid #ffd700;
      transition: all 0.2s ease;
    }
    
    .spin-btn:hover:not(:disabled) {
      transform: scale(1.05);
      box-shadow: 0 0 30px #ffd700;
    }
    
    .spin-btn:disabled {
      background: linear-gradient(180deg, #555 0%, #333 100%);
      border-color: #666;
      cursor: not-allowed;
    }
    
    .auto-btn {
      background: linear-gradient(180deg, #9b59b6 0%, #8e44ad 50%, #6c3483 100%);
      border: 2px solid #e056fd;
    }
    
    .auto-btn.active {
      background: linear-gradient(180deg, #e74c3c 0%, #c0392b 100%);
      animation: autoPulse 1s ease-in-out infinite;
    }
    
    @keyframes autoPulse {
      0%, 100% { box-shadow: 0 0 10px #e74c3c; }
      50% { box-shadow: 0 0 25px #e74c3c; }
    }
    
    .balance-display {
      background: linear-gradient(135deg, #1a1a2e 0%, #2d2d4a 100%);
      border: 2px solid #00f7ff;
    }
    
    .win-display {
      background: linear-gradient(135deg, #2d4a1a 0%, #4a6a2d 100%);
      border: 2px solid #00ff88;
    }
    
    .modal-overlay {
      background: rgba(0, 0, 0, 0.85);
      -webkit-backdrop-filter: blur(5px);
      backdrop-filter: blur(5px);
    }
    
    .modal-content {
      background: linear-gradient(180deg, #1a1a2e 0%, #0f0f1a 100%);
      border: 3px solid #00f7ff;
    }
    
    .input-field {
      background: #0a0a14;
      border: 2px solid #333;
      transition: border-color 0.3s;
    }
    
    .input-field:focus {
      border-color: #00f7ff;
      outline: none;
    }
    
    .payline-indicator {
      position: absolute;
      height: 3px;
      background: linear-gradient(90deg, transparent, #ffd700, transparent);
      opacity: 0;
      transition: opacity 0.3s;
    }
    
    .payline-indicator.active {
      opacity: 1;
      animation: paylineGlow 0.5s ease-in-out infinite alternate;
    }
    
    @keyframes paylineGlow {
      from { box-shadow: 0 0 5px #ffd700; }
      to { box-shadow: 0 0 15px #ffd700; }
    }
    
    .confetti {
      position: fixed;
      pointer-events: none;
      z-index: 100;
    }
    
    @keyframes confettiFall {
      0% { transform: translateY(-100%) rotate(0deg); opacity: 1; }
      100% { transform: translateY(100vh) rotate(720deg); opacity: 0; }
    }
    
    .toast {
      animation: slideIn 0.3s ease-out, slideOut 0.3s ease-in 2.7s forwards;
    }
    
    @keyframes slideIn {
      from { transform: translateX(100%); opacity: 0; }
      to { transform: translateX(0); opacity: 1; }
    }
    
    @keyframes slideOut {
      from { transform: translateX(0); opacity: 1; }
      to { transform: translateX(100%); opacity: 0; }
    }
  </style>
  <style>body { box-sizing: border-box; }</style>
 </head>
 <body class="h-full w-full bg-gradient-to-b from-gray-900 via-purple-900 to-gray-900 thai-font overflow-auto">
  <div id="app" class="min-h-full w-full flex flex-col"><!-- Header -->
   <header class="bg-black/50 border-b-2 border-cyan-400 p-4">
    <div class="max-w-6xl mx-auto flex flex-wrap items-center justify-between gap-4">
     <h1 id="gameTitle" class="game-font text-2xl md:text-4xl font-black text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 via-yellow-400 to-pink-400 neon-text">üé∞ ArenaSpin</h1>
     <div class="flex items-center gap-3 flex-wrap"><!-- Wallet Balance Display -->
      <div id="walletBalanceBox" class="balance-display rounded-xl px-4 py-2 hidden border-blue-400 bg-blue-950/50">
       <div class="text-blue-400 text-xs">
        Wallet
       </div>
       <div class="text-blue-300 font-bold game-font text-lg"><span id="walletBalanceAmount">0</span> ANA
       </div>
      </div><!-- Game Balance Display -->
      <div id="gameBalanceBox" class="balance-display rounded-xl px-4 py-2 hidden border-green-400 bg-green-950/50">
       <div class="text-green-400 text-xs">
        ‡πÄ‡∏Å‡∏°
       </div>
       <div class="text-green-300 font-bold game-font text-lg"><span id="gameBalanceAmount">0</span> ANA
       </div>
      </div><!-- Win Display -->
      <div id="winBox" class="win-display rounded-xl px-4 py-2 hidden">
       <div class="text-green-400 text-xs">
        ‡∏ä‡∏ô‡∏∞‡∏£‡∏≠‡∏ö‡∏ô‡∏µ‡πâ
       </div>
       <div class="text-green-300 font-bold game-font text-lg">
        +<span id="winAmount">0</span> ANA
       </div>
      </div><!-- Connect Button --> <button id="connectBtn" onclick="connectWallet()" class="bg-gradient-to-r from-orange-500 to-yellow-500 hover:from-orange-600 hover:to-yellow-600 text-white font-bold py-2 px-6 rounded-full transition-all transform hover:scale-105 shadow-lg"> ü¶ä Connect MetaMask </button> <!-- User Menu (hidden until connected) -->
      <div id="userMenu" class="hidden flex items-center gap-2"><span id="walletDisplay" class="text-cyan-400 text-sm bg-black/50 px-3 py-1 rounded-full"></span> <button onclick="showDepositModal()" class="bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-full text-sm transition-all"> üí∞ ‡πÄ‡∏ï‡∏¥‡∏°‡πÄ‡∏á‡∏¥‡∏ô </button>
      </div>
     </div>
    </div>
   </header><!-- Main Game Area -->
   <main class="flex-1 flex flex-col items-center justify-center p-4 gap-6"><!-- Not Connected State -->
    <div id="notConnected" class="text-center">
     <div class="text-6xl mb-4">
      üé∞
     </div>
     <h2 class="text-2xl text-white mb-2">‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö‡∏™‡∏π‡πà ArenaSpin!</h2>
     <p class="text-gray-400 mb-6">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ MetaMask ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏•‡πà‡∏ô</p><button onclick="connectWallet()" class="bg-gradient-to-r from-orange-500 to-yellow-500 hover:from-orange-600 hover:to-yellow-600 text-white font-bold py-3 px-8 rounded-full text-xl transition-all transform hover:scale-105 shadow-lg"> ü¶ä ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏Å‡∏£‡∏∞‡πÄ‡∏õ‡πã‡∏≤ </button>
    </div><!-- Game Container (hidden until connected) -->
    <div id="gameContainer" class="hidden w-full max-w-lg"><!-- Paytable Button --> <button onclick="showPaytable()" class="mb-4 text-cyan-400 hover:text-cyan-300 text-sm underline"> üìã ‡∏î‡∏π‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏à‡πà‡∏≤‡∏¢‡πÄ‡∏á‡∏¥‡∏ô </button> <!-- Slot Machine -->
     <div class="reel-container p-4 neon-border relative"><!-- Reels Grid -->
      <div id="reelsGrid" class="grid grid-cols-3 gap-2 mb-4"><!-- Row 1 -->
       <div id="r0c0" class="symbol">
        üê≠
       </div>
       <div id="r0c1" class="symbol">
        üêª
       </div>
       <div id="r0c2" class="symbol">
        üêº
       </div><!-- Row 2 -->
       <div id="r1c0" class="symbol">
        ‚≠ê
       </div>
       <div id="r1c1" class="symbol">
        üê≠
       </div>
       <div id="r1c2" class="symbol">
        üêª
       </div><!-- Row 3 -->
       <div id="r2c0" class="symbol">
        üêº
       </div>
       <div id="r2c1" class="symbol">
        ‚≠ê
       </div>
       <div id="r2c2" class="symbol">
        üê≠
       </div>
      </div><!-- Paylines Overlay -->
      <div id="paylinesOverlay" class="absolute inset-0 pointer-events-none"></div>
     </div><!-- Betting Controls -->
     <div class="mt-6 bg-black/30 rounded-xl p-4 border border-gray-700"><!-- Bet Amount -->
      <div class="flex items-center justify-between mb-4"><span class="text-gray-400">‡πÄ‡∏î‡∏¥‡∏°‡∏û‡∏±‡∏ô:</span>
       <div class="flex items-center gap-2"><button onclick="adjustBet(-10)" class="bg-gray-700 hover:bg-gray-600 text-white w-10 h-10 rounded-lg font-bold text-xl transition-all">-</button>
        <div class="bg-black/50 px-6 py-2 rounded-lg border border-cyan-400"><span id="betAmount" class="text-yellow-400 font-bold game-font text-xl">10</span> <span class="text-gray-400 text-sm ml-1">ANA</span>
        </div><button onclick="adjustBet(10)" class="bg-gray-700 hover:bg-gray-600 text-white w-10 h-10 rounded-lg font-bold text-xl transition-all">+</button>
       </div>
      </div><!-- Quick Bet Buttons -->
      <div class="flex gap-2 mb-4 flex-wrap justify-center"><button onclick="setBet(10)" class="bg-gray-700 hover:bg-gray-600 text-white px-4 py-1 rounded-lg text-sm transition-all">10</button> <button onclick="setBet(25)" class="bg-gray-700 hover:bg-gray-600 text-white px-4 py-1 rounded-lg text-sm transition-all">25</button> <button onclick="setBet(50)" class="bg-gray-700 hover:bg-gray-600 text-white px-4 py-1 rounded-lg text-sm transition-all">50</button> <button onclick="setBet(100)" class="bg-gray-700 hover:bg-gray-600 text-white px-4 py-1 rounded-lg text-sm transition-all">100</button> <button onclick="setBet(250)" class="bg-gray-700 hover:bg-gray-600 text-white px-4 py-1 rounded-lg text-sm transition-all">250</button>
      </div><!-- Spin Buttons -->
      <div class="flex gap-4 justify-center"><button id="spinBtn" onclick="spin()" class="spin-btn text-white font-bold py-4 px-12 rounded-full text-xl game-font transition-all shadow-2xl"> üé≤ SPIN </button> <button id="autoSpinBtn" onclick="toggleAutoSpin()" class="auto-btn text-white font-bold py-4 px-8 rounded-full text-lg transition-all"> üîÑ AUTO </button>
      </div><!-- Auto Spin Counter -->
      <div id="autoSpinInfo" class="hidden mt-3 text-center"><span class="text-purple-400">Auto Spin: </span> <span id="autoSpinCount" class="text-yellow-400 font-bold">0</span> <span class="text-gray-400"> ‡∏£‡∏≠‡∏ö</span> <button onclick="stopAutoSpin()" class="ml-4 bg-red-600 hover:bg-red-700 text-white px-4 py-1 rounded-lg text-sm">‡∏´‡∏¢‡∏∏‡∏î</button>
      </div>
     </div><!-- Stats -->
     <div class="mt-4 flex justify-center gap-6 text-sm text-gray-400">
      <div>
       ‡∏£‡∏ß‡∏°‡∏´‡∏°‡∏∏‡∏ô: <span id="totalSpins" class="text-cyan-400 font-bold">0</span>
      </div>
      <div>
       ‡∏£‡∏ß‡∏°‡∏ä‡∏ô‡∏∞: <span id="totalWins" class="text-green-400 font-bold">0</span> ANA
      </div>
     </div>
    </div>
   </main><!-- Footer -->
   <footer class="bg-black/50 border-t border-gray-800 p-4 text-center text-gray-500 text-sm">
    <p>ArenaSpin ¬© 2024 | ‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç ANA ‡∏ö‡∏ô BSC Network</p>
    <p class="text-xs mt-1">Contract: 0x4abc75C7BBDDAc87915e06B14f1C8974Bd185Ff0</p>
   </footer>
  </div><!-- Modals --> <!-- Deposit Modal -->
  <div id="depositModal" class="fixed inset-0 modal-overlay z-50 hidden flex items-center justify-center p-4">
   <div class="modal-content rounded-2xl p-6 w-full max-w-md">
    <div class="flex justify-between items-center mb-4">
     <h3 class="text-xl font-bold text-cyan-400 game-font">üí∞ ‡πÄ‡∏ï‡∏¥‡∏°‡πÄ‡∏á‡∏¥‡∏ô ANA</h3><button onclick="closeDepositModal()" class="text-gray-400 hover:text-white text-2xl">√ó</button>
    </div>
    <div class="space-y-4">
     <div><label class="text-gray-400 text-sm">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏ï‡∏¥‡∏° (ANA)</label> <input id="depositAmount" type="number" min="0.001" step="0.001" placeholder="100" class="input-field w-full mt-1 px-4 py-3 rounded-lg text-white text-lg">
     </div>
     <div class="bg-green-900/30 border border-green-600 rounded-lg p-3">
      <p class="text-green-400 text-sm font-semibold">‚úÖ ‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡πÄ‡∏ï‡∏¥‡∏°‡πÄ‡∏á‡∏¥‡∏ô:</p>
      <ol class="text-green-300 text-xs mt-2 space-y-1 list-decimal list-inside">
       <li>‡∏£‡∏∞‡∏ö‡∏∏‡∏à‡∏≥‡∏ô‡∏ß‡∏ô ANA ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏ï‡∏¥‡∏°</li>
       <li>‡∏Å‡∏î "‡∏™‡πà‡∏á Transaction"</li>
       <li>MetaMask ‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á Transaction</li>
       <li>‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡∏∞‡∏Å‡∏î "Confirm"</li>
       <li>‡∏£‡∏≠ Transaction ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô (1-2 ‡∏ô‡∏≤‡∏ó‡∏µ)</li>
      </ol>
     </div>
     <div class="bg-blue-900/30 border border-blue-600 rounded-lg p-2">
      <p class="text-blue-400 text-xs">‚õìÔ∏è Token: <span class="font-mono text-blue-300">ANA (6 decimals)</span></p>
      <p class="text-blue-400 text-xs mt-1">üìç Receiver: <span class="font-mono break-all text-blue-300">0xc0952C2D2Df4be46449dDD80f941Bb057CC00D87</span></p>
     </div><button onclick="processDeposit()" id="depositBtn" class="w-full bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white font-bold py-3 rounded-xl transition-all"> üöÄ ‡∏™‡πà‡∏á Transaction ‡∏ú‡πà‡∏≤‡∏ô MetaMask </button>
    </div>
   </div>
  </div><!-- Withdraw Modal -->
  <div id="withdrawModal" class="fixed inset-0 modal-overlay z-50 hidden flex items-center justify-center p-4">
   <div class="modal-content rounded-2xl p-6 w-full max-w-md">
    <div class="flex justify-between items-center mb-4">
     <h3 class="text-xl font-bold text-cyan-400 game-font">üí∏ ‡∏ñ‡∏≠‡∏ô‡πÄ‡∏á‡∏¥‡∏ô ANA</h3><button onclick="closeWithdrawModal()" class="text-gray-400 hover:text-white text-2xl">√ó</button>
    </div>
    <div class="space-y-4">
     <div class="bg-gray-800 rounded-lg p-3">
      <p class="text-gray-400 text-sm">‡∏¢‡∏≠‡∏î‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠</p>
      <p class="text-yellow-400 font-bold text-2xl game-font"><span id="withdrawBalance">0</span> ANA</p>
     </div>
     <div><label class="text-gray-400 text-sm">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ñ‡∏≠‡∏ô (ANA)</label> <input id="withdrawAmount" type="number" min="1" placeholder="100" class="input-field w-full mt-1 px-4 py-3 rounded-lg text-white text-lg">
     </div>
     <div class="bg-red-900/30 border border-red-600 rounded-lg p-3">
      <p class="text-red-400 text-sm">‚ö†Ô∏è ‡∏Ñ‡πà‡∏≤‡∏ò‡∏£‡∏£‡∏°‡πÄ‡∏ô‡∏µ‡∏¢‡∏°: 5 ANA ‡∏ï‡πà‡∏≠‡∏Ñ‡∏£‡∏±‡πâ‡∏á</p>
      <p class="text-gray-400 text-xs mt-1">‡∏¢‡∏≠‡∏î‡∏ñ‡∏≠‡∏ô‡∏à‡∏£‡∏¥‡∏á = ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ñ‡∏≠‡∏ô - 5 ANA</p>
     </div><button onclick="processWithdraw()" id="withdrawBtn" class="w-full bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white font-bold py-3 rounded-xl transition-all"> ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏ñ‡∏≠‡∏ô </button>
     <p class="text-gray-500 text-xs text-center">* ‡∏ô‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡πÇ‡∏´‡∏°‡∏î‡∏ó‡∏î‡∏•‡∏≠‡∏á‡πÄ‡∏•‡πà‡∏ô</p>
    </div>
   </div>
  </div><!-- Paytable Modal -->
  <div id="paytableModal" class="fixed inset-0 modal-overlay z-50 hidden flex items-center justify-center p-4">
   <div class="modal-content rounded-2xl p-6 w-full max-w-md max-h-[90%] overflow-auto">
    <div class="flex justify-between items-center mb-4">
     <h3 class="text-xl font-bold text-cyan-400 game-font">üìã ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏à‡πà‡∏≤‡∏¢‡πÄ‡∏á‡∏¥‡∏ô</h3><button onclick="closePaytable()" class="text-gray-400 hover:text-white text-2xl">√ó</button>
    </div>
    <div class="space-y-4">
     <div class="bg-gray-800 rounded-lg p-4">
      <h4 class="text-yellow-400 font-bold mb-3">‡∏™‡∏±‡∏ç‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå‡πÅ‡∏•‡∏∞‡∏ï‡∏±‡∏ß‡∏Ñ‡∏π‡∏ì</h4>
      <div class="space-y-2">
       <div class="flex justify-between items-center py-2 border-b border-gray-700"><span class="text-3xl">üê≠</span> <span class="text-gray-400">Mouse (‡∏ï‡πà‡∏≥)</span> <span class="text-green-400 font-bold">x1.5</span>
       </div>
       <div class="flex justify-between items-center py-2 border-b border-gray-700"><span class="text-3xl">üêª</span> <span class="text-gray-400">Bear (‡∏Å‡∏•‡∏≤‡∏á)</span> <span class="text-green-400 font-bold">x2.0</span>
       </div>
       <div class="flex justify-between items-center py-2 border-b border-gray-700"><span class="text-3xl">üêº</span> <span class="text-gray-400">Panda (‡∏™‡∏π‡∏á)</span> <span class="text-green-400 font-bold">x3.0</span>
       </div>
       <div class="flex justify-between items-center py-2"><span class="text-3xl">‚≠ê</span> <span class="text-gray-400">Wild</span> <span class="text-purple-400 font-bold">‡πÅ‡∏ó‡∏ô‡πÑ‡∏î‡πâ‡∏ó‡∏∏‡∏Å‡∏ï‡∏±‡∏ß</span>
       </div>
      </div>
     </div>
     <div class="bg-gray-800 rounded-lg p-4">
      <h4 class="text-yellow-400 font-bold mb-3">‡∏Å‡∏é‡∏Å‡∏≤‡∏£‡∏ä‡∏ô‡∏∞</h4>
      <ul class="text-gray-400 text-sm space-y-2">
       <li>‚Ä¢ ‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏™‡∏±‡∏ç‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏±‡∏ô 3 ‡∏ï‡∏±‡∏ß</li>
       <li>‚Ä¢ ‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏à‡∏≤‡∏Å‡∏ã‡πâ‡∏≤‡∏¢‡πÑ‡∏õ‡∏Ç‡∏ß‡∏≤‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô</li>
       <li>‚Ä¢ ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏ï‡∏¥‡∏î‡∏Å‡∏±‡∏ô‡πÉ‡∏ô‡πÅ‡∏ô‡∏ß‡∏ô‡∏≠‡∏ô</li>
       <li>‚Ä¢ Wild (‚≠ê) ‡πÅ‡∏ó‡∏ô‡∏™‡∏±‡∏ç‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå‡∏õ‡∏Å‡∏ï‡∏¥‡πÑ‡∏î‡πâ</li>
       <li>‚Ä¢ ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ó‡∏±‡πâ‡∏á 3 ‡πÅ‡∏ñ‡∏ß (20 ‡πÄ‡∏™‡πâ‡∏ô‡∏à‡πà‡∏≤‡∏¢)</li>
      </ul>
     </div>
     <div class="bg-gray-800 rounded-lg p-4">
      <h4 class="text-yellow-400 font-bold mb-3">‡∏™‡∏π‡∏ï‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì</h4>
      <p class="text-cyan-400 text-center font-mono">‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏• = ‡πÄ‡∏î‡∏¥‡∏°‡∏û‡∏±‡∏ô √ó ‡∏ï‡∏±‡∏ß‡∏Ñ‡∏π‡∏ì</p>
     </div>
    </div>
   </div>
  </div><!-- Toast Container -->
  <div id="toastContainer" class="fixed top-4 right-4 z-50 space-y-2"></div>
  <script>
    // ==================== GAME STATE ====================
    const SYMBOLS = ['üê≠', 'üêª', 'üêº', '‚≠ê'];
    const MULTIPLIERS = {
      'üê≠': 1.5,
      'üêª': 2.0,
      'üêº': 3.0
    };
    
    let gameState = {
      connected: false,
      walletAddress: '',
      walletBalance: 0,
      gameBalance: 0,
      currentBet: 10,
      isSpinning: false,
      autoSpin: false,
      autoSpinCount: 0,
      pendingWins: 0,
      totalSpins: 0,
      totalWins: 0,
      currentUserRecord: null
    };
    
    let reels = [
      ['üê≠', 'üêª', 'üêº'],
      ['‚≠ê', 'üê≠', 'üêª'],
      ['üêº', '‚≠ê', 'üê≠']
    ];
    
    // ==================== CONFIG ====================
    const defaultConfig = {
      game_title: 'ArenaSpin',
      connect_button_text: 'Connect MetaMask',
      background_color: '#0f0a1f',
      accent_color: '#00f7ff',
      text_color: '#ffffff',
      button_color: '#ff6b6b',
      win_color: '#00ff88'
    };
    
    // ==================== ELEMENT SDK ====================
    if (window.elementSdk) {
      window.elementSdk.init({
        defaultConfig,
        onConfigChange: async (config) => {
          const title = config.game_title || defaultConfig.game_title;
          const connectText = config.connect_button_text || defaultConfig.connect_button_text;
          
          document.getElementById('gameTitle').innerHTML = `üé∞ ${title}`;
          document.getElementById('connectBtn').innerHTML = `ü¶ä ${connectText}`;
        },
        mapToCapabilities: (config) => ({
          recolorables: [
            {
              get: () => config.background_color || defaultConfig.background_color,
              set: (v) => { config.background_color = v; window.elementSdk.setConfig({ background_color: v }); }
            },
            {
              get: () => config.accent_color || defaultConfig.accent_color,
              set: (v) => { config.accent_color = v; window.elementSdk.setConfig({ accent_color: v }); }
            },
            {
              get: () => config.text_color || defaultConfig.text_color,
              set: (v) => { config.text_color = v; window.elementSdk.setConfig({ text_color: v }); }
            },
            {
              get: () => config.button_color || defaultConfig.button_color,
              set: (v) => { config.button_color = v; window.elementSdk.setConfig({ button_color: v }); }
            },
            {
              get: () => config.win_color || defaultConfig.win_color,
              set: (v) => { config.win_color = v; window.elementSdk.setConfig({ win_color: v }); }
            }
          ],
          borderables: [],
          fontEditable: undefined,
          fontSizeable: undefined
        }),
        mapToEditPanelValues: (config) => new Map([
          ['game_title', config.game_title || defaultConfig.game_title],
          ['connect_button_text', config.connect_button_text || defaultConfig.connect_button_text]
        ])
      });
    }
    
    // ==================== DATA SDK ====================
    const dataHandler = {
      onDataChanged(data) {
        if (gameState.walletAddress && data.length > 0) {
          const userRecord = data.find(r => r.wallet_address === gameState.walletAddress);
          if (userRecord) {
            gameState.currentUserRecord = userRecord;
            gameState.walletBalance = userRecord.wallet_balance || 0;
            gameState.gameBalance = userRecord.game_balance || 0;
            gameState.totalWins = userRecord.total_wins || 0;
            gameState.totalSpins = userRecord.total_spins || 0;
            updateUI();
          }
        }
      }
    };
    
    if (window.dataSdk) {
      window.dataSdk.init(dataHandler);
    }
    
    // ==================== WEB3 & BLOCKCHAIN ====================
    const BLOCKCHAIN_CONFIG = {
      network: 'bsc',
      tokenContract: '0x4abc75C7BBDDAc87915e06B14f1C8974Bd185Ff0',
      receiverWallet: '0xc0952C2D2Df4be46449dDD80f941Bb057CC00D87',
      tokenDecimals: 6,
      withdrawFee: 5
    };
    
    // ERC-20 ABI (transfer function only)
    const ERC20_ABI = [
      {
        "constant": false,
        "inputs": [
          { "name": "to", "type": "address" },
          { "name": "value", "type": "uint256" }
        ],
        "name": "transfer",
        "outputs": [{ "name": "", "type": "bool" }],
        "type": "function"
      },
      {
        "constant": true,
        "inputs": [{ "name": "_owner", "type": "address" }],
        "name": "balanceOf",
        "outputs": [{ "name": "balance", "type": "uint256" }],
        "type": "function"
      }
    ];
    
    let web3Instance = null;
    let tokenContract = null;
    
    async function initWeb3() {
      if (typeof window.ethereum === 'undefined') {
        return false;
      }
      
      try {
        web3Instance = new Web3(window.ethereum);
        tokenContract = new web3Instance.eth.Contract(ERC20_ABI, BLOCKCHAIN_CONFIG.tokenContract);
        return true;
      } catch (error) {
        console.error('Web3 initialization failed:', error);
        return false;
      }
    }
    
    async function getTokenBalance(walletAddress) {
      if (!tokenContract) return 0;
      
      try {
        const balance = await tokenContract.methods.balanceOf(walletAddress).call();
        return parseFloat(web3Instance.utils.fromWei(balance, 'mwei'));
      } catch (error) {
        console.error('Failed to get balance:', error);
        return 0;
      }
    }
    
    // ==================== WALLET CONNECTION ====================
    async function connectWallet() {
      const isWeb3Ready = await initWeb3();
      
      if (!isWeb3Ready) {
        showToast('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á MetaMask ‡∏Å‡πà‡∏≠‡∏ô', 'error');
        return;
      }
      
      try {
        const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });
        
        if (accounts.length > 0) {
          gameState.walletAddress = accounts[0];
          
          // Get token balance from blockchain
          const balance = await getTokenBalance(gameState.walletAddress);
          gameState.walletBalance = balance;
          gameState.gameBalance = 0; // Start with 0 in game balance
          gameState.connected = true;
          
          updateUI();
          await saveUserData();
          showToast('‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ Blockchain ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à! üéâ', 'success');
          
          // Listen for account changes
          window.ethereum.on('accountsChanged', () => {
            gameState.connected = false;
            location.reload();
          });
          
          // Listen for network changes
          window.ethereum.on('chainChanged', () => {
            location.reload();
          });
        }
      } catch (error) {
        if (error.code === 4001) {
          showToast('‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠', 'error');
        } else {
          showToast('‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß: ' + error.message, 'error');
        }
      }
    }
    
    async function saveUserData() {
      if (!window.dataSdk) return;
      
      if (gameState.currentUserRecord) {
        const result = await window.dataSdk.update({
          ...gameState.currentUserRecord,
          wallet_balance: gameState.walletBalance,
          game_balance: gameState.gameBalance,
          total_wins: gameState.totalWins,
          total_spins: gameState.totalSpins
        });
        if (!result.isOk) {
          console.error('Failed to update user data');
        }
      } else {
        const result = await window.dataSdk.create({
          wallet_address: gameState.walletAddress,
          wallet_balance: gameState.walletBalance,
          game_balance: gameState.gameBalance,
          total_wins: gameState.totalWins,
          total_spins: gameState.totalSpins,
          created_at: new Date().toISOString()
        });
        if (!result.isOk) {
          console.error('Failed to create user data');
        }
      }
    }
    
    // ==================== UI UPDATES ====================
    function updateUI() {
      const notConnected = document.getElementById('notConnected');
      const gameContainer = document.getElementById('gameContainer');
      const connectBtn = document.getElementById('connectBtn');
      const userMenu = document.getElementById('userMenu');
      const walletBalanceBox = document.getElementById('walletBalanceBox');
      const gameBalanceBox = document.getElementById('gameBalanceBox');
      const winBox = document.getElementById('winBox');
      
      if (gameState.connected) {
        notConnected.classList.add('hidden');
        gameContainer.classList.remove('hidden');
        connectBtn.classList.add('hidden');
        userMenu.classList.remove('hidden');
        walletBalanceBox.classList.remove('hidden');
        gameBalanceBox.classList.remove('hidden');
        
        const shortWallet = gameState.walletAddress.slice(0, 6) + '...' + gameState.walletAddress.slice(-4);
        document.getElementById('walletDisplay').textContent = shortWallet;
        document.getElementById('walletBalanceAmount').textContent = gameState.walletBalance.toFixed(2);
        document.getElementById('gameBalanceAmount').textContent = gameState.gameBalance.toFixed(2);
        document.getElementById('totalSpins').textContent = gameState.totalSpins;
        document.getElementById('totalWins').textContent = gameState.totalWins.toFixed(2);
        
        if (gameState.pendingWins > 0) {
          winBox.classList.remove('hidden');
          document.getElementById('winAmount').textContent = gameState.pendingWins.toFixed(2);
        } else {
          winBox.classList.add('hidden');
        }
      } else {
        notConnected.classList.remove('hidden');
        gameContainer.classList.add('hidden');
        connectBtn.classList.remove('hidden');
        userMenu.classList.add('hidden');
        walletBalanceBox.classList.add('hidden');
        gameBalanceBox.classList.add('hidden');
        winBox.classList.add('hidden');
      }
      
      document.getElementById('betAmount').textContent = gameState.currentBet;
      
      // Update spin button state
      const spinBtn = document.getElementById('spinBtn');
      spinBtn.disabled = gameState.isSpinning || gameState.gameBalance < gameState.currentBet;
    }
    
    // ==================== BETTING ====================
    function adjustBet(amount) {
      const newBet = gameState.currentBet + amount;
      if (newBet >= 10 && newBet <= 1000) {
        gameState.currentBet = newBet;
        updateUI();
      }
    }
    
    function setBet(amount) {
      gameState.currentBet = amount;
      updateUI();
    }
    
    // ==================== SPINNING ====================
    async function spin() {
      if (gameState.isSpinning) return;
      if (gameState.gameBalance < gameState.currentBet) {
        showToast('‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏Å‡∏°‡∏´‡∏°‡∏î ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏ï‡∏¥‡∏°‡πÄ‡∏á‡∏¥‡∏ô', 'error');
        return;
      }
      
      gameState.isSpinning = true;
      gameState.gameBalance -= gameState.currentBet;
      gameState.totalSpins++;
      
      // Clear previous winning highlights
      document.querySelectorAll('.symbol').forEach(s => s.classList.remove('winning'));
      
      updateUI();
      
      // Animate reels
      const reelElements = document.querySelectorAll('.symbol');
      reelElements.forEach(el => el.classList.add('spinning'));
      
      // Generate results
      await new Promise(resolve => setTimeout(resolve, 1500));
      
      // Stop spinning and show results
      for (let row = 0; row < 3; row++) {
        for (let col = 0; col < 3; col++) {
          const randomSymbol = SYMBOLS[Math.floor(Math.random() * SYMBOLS.length)];
          reels[row][col] = randomSymbol;
        }
      }
      
      // Update display
      for (let row = 0; row < 3; row++) {
        for (let col = 0; col < 3; col++) {
          const el = document.getElementById(`r${row}c${col}`);
          el.classList.remove('spinning');
          el.textContent = reels[row][col];
        }
      }
      
      // Check wins
      const winResult = checkWins();
      
      if (winResult.totalWin > 0) {
        gameState.pendingWins += winResult.totalWin;
        gameState.totalWins += winResult.totalWin;
        gameState.gameBalance += winResult.totalWin;
        
        // Highlight winning symbols
        winResult.winningPositions.forEach(pos => {
          const el = document.getElementById(`r${pos.row}c${pos.col}`);
          el.classList.add('winning');
        });
        
        showToast(`üéâ ‡∏ä‡∏ô‡∏∞ ${winResult.totalWin.toFixed(2)} ANA!`, 'success');
        createConfetti();
      }
      
      gameState.isSpinning = false;
      updateUI();
      await saveUserData();
      
      // Continue auto spin if active
      if (gameState.autoSpin && gameState.autoSpinCount > 0) {
        gameState.autoSpinCount--;
        document.getElementById('autoSpinCount').textContent = gameState.autoSpinCount;
        
        if (gameState.autoSpinCount > 0 && gameState.gameBalance >= gameState.currentBet) {
          setTimeout(spin, 1000);
        } else {
          stopAutoSpin();
        }
      }
    }
    
    function checkWins() {
      let totalWin = 0;
      const winningPositions = [];
      
      // Check each row for matching symbols (left to right)
      for (let row = 0; row < 3; row++) {
        const rowSymbols = reels[row];
        const result = checkRowWin(rowSymbols);
        
        if (result.win > 0) {
          totalWin += result.win;
          for (let col = 0; col < 3; col++) {
            winningPositions.push({ row, col });
          }
        }
      }
      
      return { totalWin, winningPositions };
    }
    
    function checkRowWin(symbols) {
      // Count symbols and wilds
      const counts = {};
      let wildCount = 0;
      
      symbols.forEach(s => {
        if (s === '‚≠ê') {
          wildCount++;
        } else {
          counts[s] = (counts[s] || 0) + 1;
        }
      });
      
      // Check for winning combination
      // Need at least 1 non-wild symbol, and total of 3 matching (including wilds)
      for (const symbol in counts) {
        const total = counts[symbol] + wildCount;
        if (total >= 3 && counts[symbol] >= 1) {
          const multiplier = MULTIPLIERS[symbol] || 1;
          return { win: gameState.currentBet * multiplier };
        }
      }
      
      // Check if all 3 are the same symbol (no wilds needed)
      const uniqueNonWild = Object.keys(counts);
      if (uniqueNonWild.length === 1 && counts[uniqueNonWild[0]] === 3) {
        const multiplier = MULTIPLIERS[uniqueNonWild[0]] || 1;
        return { win: gameState.currentBet * multiplier };
      }
      
      return { win: 0 };
    }
    
    // ==================== AUTO SPIN ====================
    function toggleAutoSpin() {
      if (gameState.autoSpin) {
        stopAutoSpin();
      } else {
        startAutoSpin();
      }
    }
    
    function startAutoSpin() {
      gameState.autoSpin = true;
      gameState.autoSpinCount = 10;
      document.getElementById('autoSpinBtn').classList.add('active');
      document.getElementById('autoSpinInfo').classList.remove('hidden');
      document.getElementById('autoSpinCount').textContent = gameState.autoSpinCount;
      
      if (!gameState.isSpinning) {
        spin();
      }
    }
    
    function stopAutoSpin() {
      gameState.autoSpin = false;
      gameState.autoSpinCount = 0;
      document.getElementById('autoSpinBtn').classList.remove('active');
      document.getElementById('autoSpinInfo').classList.add('hidden');
      
      if (gameState.pendingWins > 0) {
        showToast(`‡∏¢‡∏≠‡∏î‡∏ä‡∏ô‡∏∞‡∏™‡∏∞‡∏™‡∏°: ${gameState.pendingWins.toFixed(2)} ANA`, 'info');
        gameState.pendingWins = 0;
        updateUI();
        saveUserData();
      }
    }
    
    // ==================== MODALS ====================
    function showDepositModal() {
      if (gameState.autoSpin) {
        showToast('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏´‡∏¢‡∏∏‡∏î Auto Spin ‡∏Å‡πà‡∏≠‡∏ô', 'error');
        return;
      }
      document.getElementById('depositModal').classList.remove('hidden');
    }
    
    function closeDepositModal() {
      document.getElementById('depositModal').classList.add('hidden');
    }
    
    function showWithdrawModal() {
      if (gameState.autoSpin) {
        showToast('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏´‡∏¢‡∏∏‡∏î Auto Spin ‡∏Å‡πà‡∏≠‡∏ô', 'error');
        return;
      }
      document.getElementById('withdrawBalance').textContent = gameState.gameBalance.toFixed(2);
      document.getElementById('withdrawModal').classList.remove('hidden');
    }
    
    function closeWithdrawModal() {
      document.getElementById('withdrawModal').classList.add('hidden');
    }
    
    function showPaytable() {
      document.getElementById('paytableModal').classList.remove('hidden');
    }
    
    function closePaytable() {
      document.getElementById('paytableModal').classList.add('hidden');
    }
    
    // ==================== DEPOSIT/WITHDRAW ====================
    async function processDeposit() {
      const amount = parseFloat(document.getElementById('depositAmount').value);
      
      if (isNaN(amount) || amount <= 0) {
        showToast('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏∞‡∏ö‡∏∏‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á', 'error');
        return;
      }
      
      if (amount > gameState.walletBalance) {
        showToast('‡∏¢‡∏≠‡∏î Wallet ‡πÑ‡∏°‡πà‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠', 'error');
        return;
      }
      
      const btn = document.getElementById('depositBtn');
      btn.disabled = true;
      btn.textContent = '‚è≥ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•...';
      
      try {
        // Transfer from wallet to game balance
        gameState.walletBalance -= amount;
        gameState.gameBalance += amount;
        
        updateUI();
        await saveUserData();
        
        showToast(`‚úÖ ‡πÄ‡∏ï‡∏¥‡∏°‡πÄ‡∏á‡∏¥‡∏ô ${amount} ANA ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!`, 'success');
        
        btn.disabled = false;
        btn.textContent = 'üöÄ ‡∏™‡πà‡∏á Transaction ‡∏ú‡πà‡∏≤‡∏ô MetaMask';
        document.getElementById('depositAmount').value = '';
        closeDepositModal();
        
        showToast(`‡∏¢‡∏≠‡∏î‡πÄ‡∏Å‡∏°‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô: ${gameState.gameBalance.toFixed(2)} ANA`, 'success');
        createConfetti();
        
      } catch (error) {
        btn.disabled = false;
        btn.textContent = 'üöÄ ‡∏™‡πà‡∏á Transaction ‡∏ú‡πà‡∏≤‡∏ô MetaMask';
        showToast('‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î: ' + error.message, 'error');
      }
    }
    
    async function processWithdraw() {
      const amount = parseFloat(document.getElementById('withdrawAmount').value);
      const fee = BLOCKCHAIN_CONFIG.withdrawFee;
      const totalDeduction = amount + fee;
      
      if (isNaN(amount) || amount <= 0) {
        showToast('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏∞‡∏ö‡∏∏‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á', 'error');
        return;
      }
      
      if (totalDeduction > gameState.gameBalance) {
        showToast(`‡∏¢‡∏≠‡∏î‡πÑ‡∏°‡πà‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠ ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ ${totalDeduction} ANA (‡∏£‡∏ß‡∏°‡∏Ñ‡πà‡∏≤‡∏ò‡∏£‡∏£‡∏°‡πÄ‡∏ô‡∏µ‡∏¢‡∏° ${fee})`, 'error');
        return;
      }
      
      const btn = document.getElementById('withdrawBtn');
      btn.disabled = true;
      btn.textContent = '‚è≥ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•...';
      
      try {
        // Transfer from game to wallet balance
        gameState.gameBalance -= totalDeduction;
        gameState.walletBalance += amount;
        
        updateUI();
        await saveUserData();
        
        btn.disabled = false;
        btn.textContent = '‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏ñ‡∏≠‡∏ô';
        document.getElementById('withdrawAmount').value = '';
        closeWithdrawModal();
        
        showToast(`‡∏ñ‡∏≠‡∏ô ${amount} ANA ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à! (‡∏´‡∏±‡∏Å‡∏Ñ‡πà‡∏≤‡∏ò‡∏£‡∏£‡∏°‡πÄ‡∏ô‡∏µ‡∏¢‡∏° ${fee} ANA)`, 'success');
        
      } catch (error) {
        btn.disabled = false;
        btn.textContent = '‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏ñ‡∏≠‡∏ô';
        showToast('‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î: ' + error.message, 'error');
      }
    }
    
    // ==================== EFFECTS ====================
    function showToast(message, type = 'info') {
      const container = document.getElementById('toastContainer');
      const toast = document.createElement('div');
      
      const bgColors = {
        success: 'bg-green-600',
        error: 'bg-red-600',
        info: 'bg-blue-600'
      };
      
      toast.className = `toast ${bgColors[type]} text-white px-6 py-3 rounded-lg shadow-lg`;
      toast.textContent = message;
      
      container.appendChild(toast);
      
      setTimeout(() => {
        toast.remove();
      }, 3000);
    }
    
    function createConfetti() {
      const colors = ['#ff6b6b', '#ffd700', '#00f7ff', '#00ff88', '#e056fd'];
      
      for (let i = 0; i < 30; i++) {
        const confetti = document.createElement('div');
        confetti.className = 'confetti';
        confetti.style.cssText = `
          position: fixed;
          width: 10px;
          height: 10px;
          background: ${colors[Math.floor(Math.random() * colors.length)]};
          left: ${Math.random() * 100}%;
          top: -10px;
          border-radius: ${Math.random() > 0.5 ? '50%' : '0'};
          animation: confettiFall ${2 + Math.random() * 2}s linear forwards;
          animation-delay: ${Math.random() * 0.5}s;
        `;
        
        document.body.appendChild(confetti);
        
        setTimeout(() => confetti.remove(), 4000);
      }
    }
    
    // ==================== KEYBOARD SHORTCUTS ====================
    document.addEventListener('keydown', (e) => {
      if (e.code === 'Space' && gameState.connected && !gameState.isSpinning) {
        e.preventDefault();
        spin();
      }
    });
    
    // Initialize
    updateUI();
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9d07538bd683fdea',t:'MTc3MTUyMDQ4OC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
